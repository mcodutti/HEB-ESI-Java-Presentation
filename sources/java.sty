% =================================
% Style pour le cours de Java
% ---------------------------------
% \java{...} ou \code{...}
% \begin{Java}...\end{Java} 
%    ou \begin{Code}...\end{Code}
% \sigle{...}
% \emph{...}
% \begin{slidetoc}...\end{slidetoc}
% =================================

% ===== Francisation
\usepackage[frenchb]{babel}
\usepackage[latin1]{inputenc}
%\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc} 

% ===== bullets pour les items
\setbeamertemplate{itemize item}[triangle]
\setbeamertemplate{itemize subitem}[square]
\setbeamertemplate{itemize subsubitem}[circle]
\setbeamercolor{itemize item}{fg=black!70}
\setbeamercolor{itemize subitem}{fg=black!70}
\setbeamercolor{itemize subsubitem}{fg=black!70}

% ===== Pour pouvoir barrer du texte (\sout)
\usepackage{ulem}

% ===== Emphase de texte
\mode<beamer>{ 
	\setbeamercolor{description item}{fg=brown} 
	\renewcommand{\emph}[1]{\textbf{\color{brown}{#1}}}
}
\mode<handout>{ 
	\setbeamercolor{description item}{fg=black} 
	\setbeamerfont{description item}{series=\bfseries} 
	\renewcommand{\emph}[1]{\textbf{\color{black}{#1}}}
}

% ===== Insertion de code + Java + sigle
% ----- Environnement Verbatim
% ----- Code : pour du code non java (shell, output, ...)
% ----- Java : pour du code Java
% L'argument optionnel permet d'adapter la mise en page
% ex: \begin{Java}[basicstyle=\scriptsize] pour du code plus petit
% Mettre le frame en fragile
\usepackage{listings}
\lstdefinestyle{lstverb}
  {
    backgroundcolor=\usebeamercolor[bg]{block body},
    frameround=tttt, frame=trbl, framerule=0pt,
    basicstyle=\footnotesize,
    lineskip=-1pt,   % pour rapprocher les lignes
    flexiblecolumns, 
    extendedchars=true
  }
\lstnewenvironment{Java}[1][]{\lstset{style=lstverb,language=java,#1}}{}
\lstnewenvironment{Code}[1][]{\lstset{style=lstverb,#1}}{}
\mode<beamer>{
  \newcommand{\java}{\lstinline[language=java,basicstyle=\color{blue!70!black}] 
  } %[
  \newcommand{\code}{\lstinline[basicstyle=\color{blue!70!black}] 
  } %[
}
\mode<handout>{
  \newcommand{\java}{\lstinline[language=java,basicstyle=\color{black}]
  } %[
  \newcommand{\code}{\lstinline[basicstyle=\color{black}]
  } %[
}
\newcommand{\sigle}[1]{{\ttfamily \bfseries #1}}

% ===== Pour les grammaires : \begin{grammaire}...\end{grammaire}
\usepackage{fancyvrb}
\DefineVerbatimEnvironment{grammaire}{Verbatim}%
  {frame=lines,commandchars=\\\{\},baselinestretch=0.9,%
   fontfamily=helvetica,fontsize=\footnotesize,obeytabs=true,formatcom=\color{black!80}%
   }
\newcommand{\term}[1]{{\ttfamily \bfseries #1}}
\newcommand{\oterm}[1]{{\ttfamily \bfseries #1}{\tiny (opt)}}
\newcommand{\nterm}[1]{\textit{#1}}
\newcommand{\onterm}[1]{\textit{#1}{\tiny (opt)}}
\newcommand{\opt}{{\tiny(opt)} }
\newcommand{\shaded}[1]{{\color{black!20} #1}}

% === Différentes pages de garde pour les leçons

\newcommand{\leconwithtoc}{
\begin{frame}
\begin{block}{\center Leçon \thesection}
  {
  \begin{center}
  \insertsection
  \end{center}
  \tableofcontents[sectionstyle=hide,subsectionstyle=show/show/hide]
  \bigskip
  }
\end{block}
\end{frame}
}

\newcommand{\leconwithtocinside}{
\begin{frame}
\begin{block}{\center Où en sommes-nous ?}
  {
  \par
  \bigskip
  \tableofcontents[sectionstyle=hide,subsectionstyle=show/shaded/hide]
  \bigskip
  }
\end{block}
\end{frame}
}

\newcommand{\leconwithabstract}[1]{
\begin{frame}
\begin{block}{\center Leçon \thesection\ --- \insertsection}
  {
  \medskip
  \begin{center}
  \textit{#1}
  \end{center}
  }
\end{block}
\end{frame}
}

\newcommand{\leconwithabstracttoc}[1]{
\begin{frame}
\begin{block}{\center Leçon \thesection\ --- \insertsection}
  {
  \medskip
  \textit{#1}
  \bigskip
  \tableofcontents[sectionstyle=hide,subsectionstyle=show/show/hide]
  \bigskip
  }
\end{block}
\end{frame}
}

\definecolor{bleu}{rgb}{0.59, 0.65, 0.82}
\usepackage{multicol}

% ===== Alerte ====
\newcommand{\warning}[1]{
  \begin{tabular}{cl}
    \begin{minipage}[c]{30pt}
    \includegraphics[width=30pt]{../img/warning}
    \end{minipage}
    & 
    \begin{minipage}[c]{270pt}
    #1
    \end{minipage}
    \\
  \end{tabular}
}


